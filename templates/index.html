{% extends 'base.html' %}

{% block head %}
<title>BoriSnacks - Home</title>
{% endblock %}

{% block body %}
<div class="section">
    <div class="banner-section">
        <button class="carousel-btn left">&#10094;</button>
        <div class="carousel-container">
            <div class="carousel-slide">
                <img src="{{ url_for('static', filename='images/banner1.png') }}">
                <img src="{{ url_for('static', filename='images/banner2.png') }}">
                <img src="{{ url_for('static', filename='images/banner3.png') }}">
            </div>
        </div>
        <button class="carousel-btn right">&#10095;</button>
    </div>
</div>
<div class="section">
    <h2>Snacks</h2>
    <div class="tarjetas">
        {% for producto in productos if producto.categoria == 'Merienda' %}
            <div class="tarjeta">
                <div class="tarjeta-producto">
                    {% if producto.imagen %}
                    <a href="{{ url_for('producto', id=producto.id) }}">
                        <img src="{{ url_for('static', filename=producto.imagen) }}" alt="{{ producto.nombre }}" class="product_img" style="max-width: 300px; height: auto; border-radius: 10px;">
                    </a>
                    {% else %}
                    <img src="{{ url_for('static', filename='images/default.jpg') }}" alt="Imagen no disponible" class="product_img" style="max-width: 300px; height: auto; border-radius: 10px;">
                    {% endif %}
                    <div>
                        <p>{{ producto.nombre }}</p>
                        <p>${{ producto.precio }}</p>        
                        <div class="product-buttons">
                            <div>
                                <a href="{{ url_for('producto', id=producto.id) }}"><button class="btn-buy">Buy</button></a>
                            </div>
                            <div class="buttons-carro">
                                <form action="{{ url_for('agregar_al_carrito') }}" method="POST">
                                    <input type="hidden" name="producto_id" value="{{ producto.id }}">
                                    <button type="submit" class="btn-cart"><i data-feather="shopping-cart"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <h2>Candy</h2>
    <div class="tarjetas">
        {% for producto in productos if producto.categoria == 'Dulce' %}
            <div class="tarjeta">
                <div class="tarjeta-producto">
                    {% if producto.imagen %}
                    <a href="{{ url_for('producto', id=producto.id) }}">
                        <img src="{{ url_for('static', filename=producto.imagen) }}" alt="{{ producto.nombre }}" class="product_img" style="max-width: 300px; height: auto; border-radius: 10px;">
                    </a>
                    {% else %}
                    <img src="{{ url_for('static', filename='images/default.jpg') }}" alt="Imagen no disponible" class="product_img" style="max-width: 300px; height: auto; border-radius: 10px;">
                    {% endif %}
                    <div>
                        <p>{{ producto.nombre }}</p>
                        <p>${{ producto.precio }}</p>
                        <div class="product-buttons">
                            <div>
                                <a href="{{ url_for('producto', id=producto.id) }}"><button class="btn-buy">Buy</button></a>
                            </div>
                            <div class="buttons-carro">
                                <form action="{{ url_for('agregar_al_carrito') }}" method="POST">
                                    <input type="hidden" name="producto_id" value="{{ producto.id }}">
                                    <button type="submit" class="btn-cart"><i data-feather="shopping-cart"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <h2>Drinks</h2>
    <div class="tarjetas">
        {% for producto in productos if producto.categoria == 'Bebida' %}
            <div class="tarjeta">
                <div class="tarjeta-producto">
                    {% if producto.imagen %}
                    <a href="{{ url_for('producto', id=producto.id) }}">
                        <img src="{{ url_for('static', filename=producto.imagen) }}" alt="{{ producto.nombre }}" class="product_img" style="max-width: 300px; height: auto; border-radius: 10px;">
                    </a>
                    {% else %}
                    <img src="{{ url_for('static', filename='images/default.jpg') }}" alt="Imagen no disponible" class="product_img" style="max-width: 300px; height: auto; border-radius: 10px;">
                    {% endif %}
                    <div>
                        <p>{{ producto.nombre }}</p>
                        <p>${{ producto.precio }}</p>
                        <div class="product-buttons">
                            <div>
                                <a href="{{ url_for('producto', id=producto.id) }}"><button class="btn-buy">Buy</button></a>
                            </div>
                            <div class="buttons-carro">
                                <form action="{{ url_for('agregar_al_carrito') }}" method="POST">
                                    <input type="hidden" name="producto_id" value="{{ producto.id }}">
                                    <button type="submit" class="btn-cart"><i data-feather="shopping-cart"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<div id="cart-popup" class="cart-popup">This item was added to your cart</div>

<script src="{{ url_for('static', filename='scripts/carousel.js') }}"></script>
{% endblock %}