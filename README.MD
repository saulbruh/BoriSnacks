# BoriSnacks

BoriSnacks es una plataforma de comercio local que permite a los usuarios explorar productos y realizar compras en l√≠nea.

Muchas personas de otros pa√≠ses no conocen de la cultura culinaria de Puerto Rico o no es bien accesible para gente de lugares lejanos que deseen probar un poco del sabor Boricua, por eso queremos crear un servicio que ofrezca, de manera accesible y costo-efectiva, una variedad de productos t√≠picos como dulces, meriendas y bebidas.


- ### ¬øQu√© problema resuelve su proyecto?
    - El acceso simple a productos locales para personas que se encuentran fuera de la isla.

 - ### Inegrantes:
    - Sa√∫l J. Medina Vega
    - Janiel O. Rodr√≠guez Vel√°zquez
    - Ricardo A. Adorno P√©rez
    - Yael F. Maldonado D√≠az

---

###  PDF
[Ver presentaci√≥n sobre el proyecto](docs/borisnacksInfo.pdf)

## Instalaci√≥n
1. Clona el repositorio.
2. Crear entorno virtual con `virtualenv` o directamente con python.
3. Instala dependencias con `pip install -r requirements.txt`.
4. Ejecuta el servidor con `python app.py`.

### Base de datos:
- La base de datos de este proyecto est√° despli√©gada en https://railway.com , para ver el diagrama de entidad - relaci√≥n favor de observar el pdf del proyecto (ver arriba).

## Caracter√≠sticas
- Registro e inicio de sesi√≥n seguro.
- Carrito de compras integrado.
- Sistema de autenticaci√≥n con Flask y MariaDB.

## Implementaci√≥n de Carrito de Compras

El sistema de carrito de compras permite a los usuarios agregar productos a su carrito, visualizar los art√≠culos agregados y proceder con la compra. Para esto, se utilizan las siguientes funciones:

- **Verificaci√≥n de sesi√≥n**: Se requiere que el usuario inicie sesi√≥n para acceder a su carrito.
- **Manejo de carritos**: Si un usuario no tiene un carrito activo, se le asigna uno nuevo al acceder a la p√°gina.
- **Gesti√≥n de productos**: Se pueden agregar productos al carrito y se mantiene un registro de la cantidad seleccionada.
- **Redirecci√≥n inteligente**: Si un usuario no ha iniciado sesi√≥n y accede al carrito, se le redirige al login y luego se le devuelve a la p√°gina del carrito.
- **Eliminaci√≥n de cuenta**: Se incluye una opci√≥n para que los usuarios puedan eliminar su cuenta, previa confirmaci√≥n de contrase√±a.

Para modificar o extender la funcionalidad del carrito, revisa el archivo `app.py` y edita las rutas relacionadas con `/carrito`.


## Tecnolog√≠as Utilizadas

| Tecnolog√≠a  | Descripci√≥n |
|-------------|------------|
| **Flask**  | Framework de desarrollo web para Python. |
| **MariaDB**  | Base de datos SQL utilizada para almacenar usuarios, productos y pedidos. |
| **SQLAlchemy**  | ORM para interactuar con la base de datos de forma m√°s estructurada. |
| **Werkzeug**  | Seguridad y autenticaci√≥n de contrase√±as con hashing. |
| **Jinja2**  | Motor de plantillas para la generaci√≥n din√°mica de HTML. |
| **Flask-Mail**  | Biblioteca para el env√≠o de correos electr√≥nicos. |
| **itsdangerous**  | Generaci√≥n y validaci√≥n de tokens para recuperaci√≥n de contrase√±as. |
| **dotenv**  | Manejo de variables de entorno. |

## Endpoints Principales

### üìç P√°gina de Inicio
**Ruta:** `/`  
**Descripci√≥n:** Muestra la lista de productos disponibles.  

### üìç Detalle de Producto
**Ruta:** `/producto/<int:id>`  
**Descripci√≥n:** Muestra los detalles de un producto espec√≠fico y productos relacionados.

### üìç Registro de Usuarios
**Ruta:** `/registro`  
**M√©todo:** `GET, POST`  
**Descripci√≥n:** Permite a nuevos usuarios registrarse en la plataforma.

### üìç Inicio de Sesi√≥n
**Ruta:** `/login`  
**M√©todo:** `GET, POST`  
**Descripci√≥n:** Inicia sesi√≥n y almacena los datos en la sesi√≥n del usuario.

### üìç Gesti√≥n de Direcciones
**Ruta:** `/register_address`  
**M√©todo:** `GET, POST`  
**Descripci√≥n:** Permite a los usuarios registrar y gestionar sus direcciones de env√≠o.

### üìç Cierre de Sesi√≥n
**Ruta:** `/logout`  
**Descripci√≥n:** Cierra la sesi√≥n del usuario y lo redirige a la p√°gina de inicio.  

### üìç Acerca de
**Ruta:** `/about`  
**Descripci√≥n:** Muestra informaci√≥n sobre la plataforma.

### üìç Carrito de Compras
**Ruta:** `/carrito`  
**Descripci√≥n:** Permite a los usuarios ver y gestionar su carrito de compras.

### üìç Gesti√≥n del Carrito
**Ruta:** `/modificar_cantidad`  
**M√©todo:** `POST`  
**Descripci√≥n:** Modifica la cantidad de un producto en el carrito.

**Ruta:** `/agregar_al_carrito`  
**M√©todo:** `POST`  
**Descripci√≥n:** Agrega un producto al carrito de compras.

**Ruta:** `/eliminar_del_carrito`  
**M√©todo:** `POST`  
**Descripci√≥n:** Elimina un producto del carrito de compras.

**Ruta:** `/vaciar_carrito`  
**M√©todo:** `POST`  
**Descripci√≥n:** Vac√≠a completamente el carrito de compras.

### üìç Gesti√≥n de √ìrdenes
**Ruta:** `/crear_orden`  
**M√©todo:** `GET`  
**Descripci√≥n:** Muestra el formulario para crear una nueva orden con los productos del carrito.

**Ruta:** `/procesar_orden`  
**M√©todo:** `POST`  
**Descripci√≥n:** Procesa la orden del usuario y actualiza el inventario.

### üìç Perfil y Gesti√≥n de Usuario
**Ruta:** `/profile`  
**Descripci√≥n:** Muestra la informaci√≥n del usuario autenticado.

**Ruta:** `/profile/home`  
**M√©todo:** `GET, POST`  
**Descripci√≥n:** P√°gina principal del perfil del usuario.

**Ruta:** `/profile/orders`  
**Descripci√≥n:** Muestra el historial de √≥rdenes del usuario.

**Ruta:** `/orden/<int:orden_id>`  
**Descripci√≥n:** Muestra los detalles de una orden espec√≠fica.

**Ruta:** `/delete_account`  
**M√©todo:** `GET, POST`  
**Descripci√≥n:** Permite a los usuarios eliminar su cuenta de la plataforma previa confirmaci√≥n de contrase√±a.  

### üìç Recuperaci√≥n de Contrase√±a
**Ruta:** `/reset_password_request`  
**M√©todo:** `POST`  
**Descripci√≥n:** Permite a los usuarios solicitar un enlace para restablecer su contrase√±a.  

**Ruta:** `/reset_password/<token>`  
**M√©todo:** `GET, POST`  
**Descripci√≥n:** Permite a los usuarios restablecer su contrase√±a utilizando un token enviado por correo electr√≥nico.  

### üìç Categor√≠as de Productos
**Ruta:** `/snacks`  
**Descripci√≥n:** Muestra los productos de la categor√≠a snacks.

**Ruta:** `/drinks`  
**Descripci√≥n:** Muestra los productos de la categor√≠a bebidas.

**Ruta:** `/candy`  
**Descripci√≥n:** Muestra los productos de la categor√≠a dulces.

**Ruta:** `/all_products`  
**Descripci√≥n:** Muestra todos los productos disponibles.

## Seguridad Implementada

- üîí **Contrase√±as cifradas:** Se usa `bcrypt` para almacenar contrase√±as de forma segura.
- üîë **Tokens de sesi√≥n:** Se utiliza `Flask-Session` para manejar sesiones de usuario.
- ‚ùå **Protecci√≥n contra SQL Injection:** Se evita la interpolaci√≥n de consultas directas usando `?` en consultas SQL.